{% extends 'baseApp.html' %}

{% block title %}Shorts{% endblock %}

{% block content %}
<div class="w-full max-w-screen-xl mx-auto py-8">
    <h1 class="text-3xl font-bold text-white mb-6 px-4">Shorts</h1>

    <!-- Conteneur pour le défilement horizontal -->
    <div class="flex overflow-x-auto space-x-4 pb-4 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900">
        
        <!-- Marge au début pour l'esthétique -->
        <div class="flex-shrink-0 w-4"></div>

        {% for video in object_list %}
        <div class="flex-shrink-0 w-48 h-80 md:w-56 md:h-96 rounded-xl overflow-hidden relative group">
            <a href="#" class="absolute inset-0 z-10">
                <span class="sr-only">Voir la vidéo : {{ video.title }}</span>
            </a>
            
            <!-- Vidéo en arrière-plan -->
            <video class="w-full h-full object-cover absolute inset-0" autoplay loop muted playsinline>
                <source src="{{ video.video.url }}" type="video/mp4">
                Votre navigateur ne supporte pas la balise vidéo.
            </video>

            <!-- Superposition avec dégradé et titre -->
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
            <div class="absolute bottom-0 left-0 p-3 text-white">
                <h3 class="font-semibold text-sm truncate">{{ video.title }}</h3>
            </div>
        </div>
        {% empty %}
        <div class="w-full text-center py-16">
            <p class="text-gray-400">Aucun short disponible pour le moment.</p>
        </div>
        {% endfor %}

        <!-- Marge à la fin pour l'esthétique -->
        <div class="flex-shrink-0 w-4"></div>
    </div>
</div>

<!-- Script pour la barre de défilement (nécessite Tailwind CSS Scrollbar plugin si non inclus) -->
<style>
    .scrollbar-thin {
        scrollbar-width: thin;
        scrollbar-color: #4A5568 #1A202C;
    }
    .scrollbar-thin::-webkit-scrollbar {
        height: 8px;
    }
    .scrollbar-thin::-webkit-scrollbar-track {
        background: #1A202C;
        border-radius: 10px;
    }
    .scrollbar-thin::-webkit-scrollbar-thumb {
        background-color: #4A5568;
        border-radius: 10px;
        border: 2px solid #1A202C;
    }
</style>
{% endblock %}
